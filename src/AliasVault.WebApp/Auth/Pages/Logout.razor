@page "/user/logout"
@using AliasVault.WebApp.Auth.Services
@attribute [AllowAnonymous]
@layout Auth.Layout.MainLayout
@inject AuthenticationStateProvider AuthStateProvider
@inject NavigationManager NavigationManager
@inject AuthService AuthService

@code {
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        await AuthService.RemoveTokensAsync();
        await AuthStateProvider.GetAuthenticationStateAsync();

        // Redirect to home page
        NavigationManager.NavigateTo("/");
    }

}
