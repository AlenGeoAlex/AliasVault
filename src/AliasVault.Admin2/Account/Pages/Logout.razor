@page "/user/logout"
@using AliasVault.Admin2.Services
@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject NavigationManager NavigationManager
@inject GlobalNotificationService GlobalNotificationService

@code {
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();

        // Sign out the user
        await SignInManager.SignOutAsync();
        GlobalNotificationService.ClearMessages();

        // Redirect to the home page with hard refresh.
        NavigationManager.NavigateTo("/", true);
    }
}
